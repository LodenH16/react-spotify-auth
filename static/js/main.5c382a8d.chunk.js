(this["webpackJsonpreact-spotify-auth-docs"]=this["webpackJsonpreact-spotify-auth-docs"]||[]).push([[0],{102:function(e,t,a){e.exports=a.p+"static/media/spotify~bkRyBIbO.9c3dc69e.svg"},103:function(e,t,a){},104:function(e,t,a){"use strict";a.r(t);a(29);var n=a(1),r=a.n(n),c=a(44),o=a.n(c),l=a(51),i=a(21),s=a(6),u=(a(98),a(18)),p=a.n(u);var m=e=>r.a.createElement(s.h,null,r.a.createElement(s.c,{style:{width:"22rem"}},r.a.createElement(s.e,{className:"img-fluid",src:e.track.album.images[0].url,waves:!0}),r.a.createElement(s.d,null,r.a.createElement(s.g,null,e.track.name),r.a.createElement(s.f,null,e.track.artists.map(e=>e.name).join(" ")," ",r.a.createElement("br",null),e.track.album.name),r.a.createElement(s.b,{href:e.track.external_urls.spotify},"Listen on Spotify")))),d=a(50),f=a.n(d),h=(a(99),a(11)),g=a.n(h),E="user-read-email",y="user-read-private";var k="_3xrlJ",b="_1JCP_",v=a(102),w=function(e){var t,a;function n(t){var a;return(a=e.call(this,t)||this).getHash=function(){return window?window.parent.location.hash.substring(1).split("&").reduce((function(e,t){if(t){var a=t.split("=");e[a[0]]=decodeURIComponent(a[1])}return e}),{}):""},a.handleClick=function(e){e.preventDefault(),window.location=function(e,t,a){return"https://accounts.spotify.com/authorize?response_type=token&client_id="+e+"&scope="+t.join("%20")+"&redirect_uri="+a+"&show_dialog=true"}(a.props.clientID,a.props.scopes,a.props.redirectUri)},a.state={isAuthenticatedWithSpotify:!1},a}a=e,(t=n).prototype=Object.create(a.prototype),t.prototype.constructor=t,t.__proto__=a;var c=n.prototype;return c.componentDidMount=function(){var e=this.getHash().access_token;e&&(document.cookie="spotifyAuthToken="+e+"; max-age=3600;",this.props.onAccessToken(e))},c.render=function(){var e=this;return r.a.createElement("button",{className:this.props.btnClassName||k,onClick:function(t){return e.handleClick(t)}},!this.props.noLogo&&r.a.createElement("img",{src:v,alt:"Spotify Logo",className:b}),r.a.createElement("span",null,this.props.title," "))},n}(n.Component);w.propTypes={redirectUri:g.a.string.isRequired,clientID:g.a.string.isRequired,scopes:g.a.arrayOf(g.a.string),onAccessToken:g.a.func,title:g.a.string,noLogo:g.a.bool},w.defaultProps={redirectUri:"http://localhost:3000/callback",clientID:"1a70ba777fec4ffd9633c0c418bdcf39",scopes:[y,E],onAccessToken:function(e){return console.log("Access token: ",e)},title:"Continue with Spotify",noLogo:!1};a(103);var _=()=>{const e=Object(n.useState)(),t=Object(l.a)(e,2),a=t[0],c=t[1];Object(n.useEffect)(()=>{c(p.a.get("spotifyAuthToken"))},[p.a.get("spotifyAuthToken")]);return r.a.createElement("div",{className:"app"},r.a.createElement(s.i,null,p.a.get("spotifyAuthToken")?r.a.createElement(r.a.Fragment,null,r.a.createElement(s.n,null,r.a.createElement("h1",null,"Hi! How's it going?")),r.a.createElement(i.b.Provider,{value:a},r.a.createElement(i.c,null,e=>e&&e.data?r.a.createElement(r.a.Fragment,null,r.a.createElement(s.h,{style:{maxWidth:"22rem",padding:"0 0 1rem 1rem"}},r.a.createElement(s.c,null,r.a.createElement(s.e,{className:"img-fluid",src:e.data.images[0]?e.data.images[0].url:f.a,alt:"Your Spotify Profile Picture",waves:!0}),r.a.createElement(s.d,{style:{padding:"1rem"}},r.a.createElement(s.g,null,"Welcome, ",e.data.display_name),r.a.createElement(s.f,null,"Here's some of your top tracks, as listed by Spotify."))))):r.a.createElement("p",null,"Loading...")),r.a.createElement(s.n,{className:"masonry-with-columns"},r.a.createElement(i.d,{type:"tracks"},(e,t,a)=>e&&e.data?e.data.items.map((e,t)=>r.a.createElement(r.a.Fragment,null,r.a.createElement(m,{track:e}))):null))),r.a.createElement(s.b,{onClick:()=>{p.a.remove("spotifyAuthToken",{path:"react-spotify-auth"}),window.location="/react-spotify-auth"}},"Logout")):r.a.createElement("div",{className:"login-page"},r.a.createElement("h1",null,"React Spotify Auth Demo"),r.a.createElement("h2",null,"Sign in to get started"),r.a.createElement("div",{className:"spotifyBtn"},r.a.createElement(w,{redirectUri:"http://kevinjiang.ca/react-spotify-auth",clientID:"1a70ba777fec4ffd9633c0c418bdcf39",scopes:[y,E,"user-top-read"]})))))};o.a.render(r.a.createElement(_,null),document.getElementById("root"))},29:function(e,t,a){},50:function(e,t,a){e.exports=a.p+"static/media/examplePfp.f6c53af4.jpg"},52:function(e,t,a){e.exports=a(104)},99:function(e,t,a){}},[[52,1,2]]]);
//# sourceMappingURL=main.5c382a8d.chunk.js.map