(this["webpackJsonpreact-spotify-auth-example"]=this["webpackJsonpreact-spotify-auth-example"]||[]).push([[0],{28:function(e,t,a){},48:function(e,t,a){e.exports=a.p+"static/media/examplePfp.f6c53af4.jpg"},50:function(e,t,a){e.exports=a(99)},96:function(e,t,a){},97:function(e,t,a){e.exports=a.p+"static/media/spotify~bkRyBIbO.9c3dc69e.svg"},98:function(e,t,a){},99:function(e,t,a){"use strict";a.r(t);a(28);var n=a(1),r=a.n(n),c=a(42),o=a.n(c),l=a(49),i=a(20),s=a(6),u=(a(95),a(17)),p=a.n(u);var m=e=>r.a.createElement(s.h,null,r.a.createElement(s.c,{style:{width:"22rem"}},r.a.createElement(s.e,{className:"img-fluid",src:e.track.album.images[0].url,waves:!0}),r.a.createElement(s.d,null,r.a.createElement(s.g,null,e.track.name),r.a.createElement(s.f,null,e.track.artists.map(e=>e.name).join(" ")," ",r.a.createElement("br",null),e.track.album.name),r.a.createElement(s.b,{href:e.track.external_urls.spotify},"Listen on Spotify")))),f=a(48),d=a.n(f),h=(a(96),"user-read-email"),E="user-read-private";var g=window.location.hash.substring(1).split("&").reduce((function(e,t){if(t){var a=t.split("=");e[a[0]]=decodeURIComponent(a[1])}return e}),{}),y="_3xrlJ",k="_1JCP_",b=a(97),v=function(e){var t,a;function n(t){var a;return(a=e.call(this,t)||this).getHash=function(){return window.parent.location.hash.substring(1).split("&").reduce((function(e,t){if(t){var a=t.split("=");e[a[0]]=decodeURIComponent(a[1])}return e}),{})},a.handleClick=function(e){e.preventDefault();var t="https://accounts.spotify.com/authorize?response_type=token&client_id="+a.props.clientID+"&scope="+a.props.scopes.join("%20")+"&redirect_uri="+a.props.redirectUri+"&show_dialog=true";window.location=t},a.state={isAuthenticatedWithSpotify:!1},a}a=e,(t=n).prototype=Object.create(a.prototype),t.prototype.constructor=t,t.__proto__=a;var c=n.prototype;return c.componentDidMount=function(){var e=g.access_token;e&&(document.cookie="spotifyAuthToken="+e+"; max-age=3600;",this.props.onAccessToken(e))},c.render=function(){var e=this;return r.a.createElement("button",{className:y,onClick:function(t){return e.handleClick(t)}},!this.props.noLogo&&r.a.createElement("img",{src:b,alt:"Spotify Logo",className:k}),r.a.createElement("span",null,this.props.title," "))},n}(n.Component);v.defaultProps={redirectUri:"http://localhost:3000/callback",clientID:"1a70ba777fec4ffd9633c0c418bdcf39",scopes:[E,h],onAccessToken:function(e){return console.log("Access token: ",e)},title:"Continue with Spotify",btnClassName:"rsaSpotifyBtn",noLogo:!1};a(98);var w=()=>{const e=Object(n.useState)(),t=Object(l.a)(e,2),a=t[0],c=t[1];Object(n.useEffect)(()=>{c(p.a.get("spotifyAuthToken"))},[p.a.get("spotifyAuthToken")]);return r.a.createElement("div",{className:"app"},r.a.createElement(s.i,null,p.a.get("spotifyAuthToken")?r.a.createElement(r.a.Fragment,null,r.a.createElement(s.n,null,r.a.createElement("h1",null,"Hi! How's it going?")),r.a.createElement(i.b.Provider,{value:a},r.a.createElement(i.c,null,e=>e&&e.data?r.a.createElement(r.a.Fragment,null,r.a.createElement(s.h,{style:{maxWidth:"22rem",padding:"0 0 1rem 1rem"}},r.a.createElement(s.c,null,r.a.createElement(s.e,{className:"img-fluid",src:e.data.images[0]?e.data.images[0].url:d.a,alt:"Your Spotify Profile Picture",waves:!0}),r.a.createElement(s.d,{style:{padding:"1rem"}},r.a.createElement(s.g,null,"Welcome, ",e.data.display_name),r.a.createElement(s.f,null,"Here's some of your top tracks, as listed by Spotify."))))):r.a.createElement("p",null,"Loading...")),r.a.createElement(s.n,{className:"masonry-with-columns"},r.a.createElement(i.d,{type:"tracks"},(e,t,a)=>e&&e.data?e.data.items.map((e,t)=>r.a.createElement(r.a.Fragment,null,r.a.createElement(m,{track:e}))):null))),r.a.createElement(s.b,{onClick:()=>{p.a.remove("spotifyAuthToken",{path:"react-spotify-auth"}),window.location="/react-spotify-auth"}},"Logout")):r.a.createElement("div",{className:"login-page"},r.a.createElement("h1",null,"React Spotify Auth Demo"),r.a.createElement("h2",null,"Sign in to get started"),r.a.createElement("div",{className:"spotifyBtn"},r.a.createElement(v,{redirectUri:"http://kevinjiang.ca/react-spotify-auth",clientID:"1a70ba777fec4ffd9633c0c418bdcf39",scopes:[E,h,"user-top-read"]})))))};o.a.render(r.a.createElement(w,null),document.getElementById("root"))}},[[50,1,2]]]);
//# sourceMappingURL=main.809e677c.chunk.js.map