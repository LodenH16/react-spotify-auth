(this["webpackJsonpreact-spotify-auth-docs"]=this["webpackJsonpreact-spotify-auth-docs"]||[]).push([[0],{108:function(e,t,a){},111:function(e,t,a){},112:function(e,t,a){"use strict";a.r(t);a(31);var o=a(1),n=a.n(o),r=a(42),l=a.n(r),c=a(51),i=a(22),s=a(6),u=(a(107),a(19)),p=a.n(u),m=function(e){return n.a.createElement(s.h,null,n.a.createElement(s.c,{style:{maxWidth:"100%"}},n.a.createElement(s.e,{className:"img-fluid",src:e.track.album.images[0].url,waves:!0}),n.a.createElement(s.d,null,n.a.createElement(s.g,null,e.track.name),n.a.createElement(s.f,null,e.track.artists.map((function(e){return e.name})).join(" ")," ",n.a.createElement("br",null),e.track.album.name),n.a.createElement(s.b,{href:e.track.external_urls.spotify},"Listen on Spotify"))))},d=a(48),f=a.n(d),y=(a(108),a(49)),g=a(50),h=a(53),k=a(52),E=a(8),b=a.n(E),v={ugcImageUpload:"ugc-image-upload",userFollowRead:"user-follow-read",userFollowModify:"user-follow-modify",userReadRecentlyPlayed:"user-read-recently-played",userTopRead:"user-top-read",userReadPlaybackPosition:"user-read-playback-position",userLibraryRead:"user-library-read",userLibraryModify:"user-library-modify",userReadPlaybackState:"user-read-playback-state",userReadCurrentlyPlaying:"user-read-currently-playing",userModifyPlaybackState:"user-modify-playback-state",playlistReadCollaborative:"playlist-read-collaborative",playlistModifyPrivate:"playlist-modify-private",playlistModifyPublic:"playlist-modify-public",playlistReadPrivate:"playlist-read-private",streaming:"streaming",appRemoteControl:"app-remote-control",userReadEmail:"user-read-email",userReadPrivate:"user-read-private"},w=Object.keys(v).reduce((function(e,t){return e.concat(v[t],"%20")}),"").slice(0,-3),S="_SpotifyAuth__rsaSpotifyBtn__3xrlJ",C="_SpotifyAuth__rsaSpotifyLogo__1JCP_",R=function(e){return n.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 496 512",className:e.className||C},n.a.createElement("path",{d:"M248 8C111.1 8 0 119.1 0 256s111.1 248 248 248 248-111.1 248-248S384.9 8 248 8zm100.7 364.9c-4.2 0-6.8-1.3-10.7-3.6-62.4-37.6-135-39.2-206.7-24.5-3.9 1-9 2.6-11.9 2.6-9.7 0-15.8-7.7-15.8-15.8 0-10.3 6.1-15.2 13.6-16.8 81.9-18.1 165.6-16.5 237 26.2 6.1 3.9 9.7 7.4 9.7 16.5s-7.1 15.4-15.2 15.4zm26.9-65.6c-5.2 0-8.7-2.3-12.3-4.2-62.5-37-155.7-51.9-238.6-29.4-4.8 1.3-7.4 2.6-11.9 2.6-10.7 0-19.4-8.7-19.4-19.4s5.2-17.8 15.5-20.7c27.8-7.8 56.2-13.6 97.8-13.6 64.9 0 127.6 16.1 177 45.5 8.1 4.8 11.3 11 11.3 19.7-.1 10.8-8.5 19.5-19.4 19.5zm31-76.2c-5.2 0-8.4-1.3-12.9-3.9-71.2-42.5-198.5-52.7-280.9-29.7-3.6 1-8.1 2.6-12.9 2.6-13.2 0-23.3-10.3-23.3-23.6 0-13.6 8.4-21.3 17.4-23.9 35.2-10.3 74.6-15.2 117.5-15.2 73 0 149.5 15.2 205.4 47.8 7.8 4.5 12.9 10.7 12.9 22.6 0 13.6-11 23.3-23.2 23.3z"}))};R.propTypes={className:b.a.string};var P=function(){return window?window.parent.location.hash.substring(1).split("&").reduce((function(e,t){if(t){var a=t.split("=");e[a[0]]=decodeURIComponent(a[1])}return e}),{}):""},_=function(e){Object(h.a)(a,e);var t=Object(k.a)(a);function a(e){var o;return Object(y.a)(this,a),(o=t.call(this,e)).handleClick=function(e){e.preventDefault(),window.location=function(e,t,a){return"https://accounts.spotify.com/authorize?response_type=token"+"&client_id=".concat(e)+"&scope=".concat(t.join("%20"))+"&redirect_uri=".concat(a)+"&show_dialog=true"}(o.props.clientID,o.props.scopes,o.props.redirectUri)},o.state={isAuthenticatedWithSpotify:!1},o}return Object(g.a)(a,[{key:"componentDidMount",value:function(){var e=P().access_token;e&&(this.props.noCookie||(document.cookie="spotifyAuthToken=".concat(e,"; max-age=").concat(3600,";")),this.props.localStorage&&window.localStorage.setItem("spotifyAuthToken",e),this.props.onAccessToken(e))}},{key:"render",value:function(){var e=this;return n.a.createElement("button",{className:this.props.btnClassName||S,onClick:function(t){return e.handleClick(t)}},!this.props.noLogo&&n.a.createElement(R,{className:this.props.logoClassName}),n.a.createElement("span",null,this.props.title))}}]),a}(o.Component);_.propTypes={redirectUri:b.a.string.isRequired,clientID:b.a.string.isRequired,scopes:b.a.arrayOf(b.a.string),onAccessToken:b.a.func,logoClassName:b.a.string,title:b.a.string,noLogo:b.a.bool,noCookie:b.a.bool,localStorage:b.a.bool},_.defaultProps={redirectUri:"http://localhost:3000",scopes:[v.userReadPrivate,v.userReadEmail],onAccessToken:function(e){},title:"Continue with Spotify",localStorage:!1,noLogo:!1,noCookie:!1};var A=function(e){return Object(o.useEffect)((function(){var t=P().access_token;t&&(e.noCookie||(document.cookie="spotifyAuthToken=".concat(t,"; max-age=").concat(3600,";")),e.localStorage&&window.localStorage.setItem("spotifyAuthToken",t),e.onAccessToken(t))}),[]),null};A.propTypes={noCookie:b.a.bool,localStorage:b.a.bool,onAccessToken:b.a.func},A.defaultProps={noCookie:!1,localStorage:!1,onAccessToken:function(e){}},v.all=w;a(111);var T=function(){var e=Object(o.useState)(),t=Object(c.a)(e,2),a=t[0],r=t[1];Object(o.useEffect)((function(){r(p.a.get("spotifyAuthToken")),console.log(v.all)}),[p.a.get("spotifyAuthToken")]);return n.a.createElement("div",{className:"app"},n.a.createElement(s.i,null,p.a.get("spotifyAuthToken")?n.a.createElement(n.a.Fragment,null,n.a.createElement(s.n,null,n.a.createElement("h1",null,"Hi! How's it going?")),n.a.createElement(i.b.Provider,{value:a},n.a.createElement(i.c,null,(function(e){return e&&e.data?n.a.createElement(n.a.Fragment,null,n.a.createElement(s.h,{style:{maxWidth:"22rem",padding:"0 0 1rem 1rem"}},n.a.createElement(s.c,null,n.a.createElement(s.e,{className:"img-fluid",src:e.data.images[0]?e.data.images[0].url:f.a,alt:"Your Spotify Profile Picture",waves:!0}),n.a.createElement(s.d,{style:{padding:"1rem"}},n.a.createElement(s.g,null,"Welcome, ",e.data.display_name),n.a.createElement(s.f,null,"Here's some of your top tracks, as listed by Spotify."))))):n.a.createElement("p",null,"Loading...")})),n.a.createElement("div",{style:{width:"100%"}},n.a.createElement(s.n,{className:"masonry-with-columns"},n.a.createElement(i.d,{type:"tracks"},(function(e,t,a){return e&&e.data?e.data.items.map((function(e,t){return n.a.createElement(n.a.Fragment,null,n.a.createElement(m,{track:e}))})):null}))))),n.a.createElement(s.b,{onClick:function(){p.a.remove("spotifyAuthToken",{path:"react-spotify-auth"}),window.location="/react-spotify-auth"}},"Logout")):n.a.createElement("div",{className:"login-page"},n.a.createElement("h1",null,"React Spotify Auth Demo"),n.a.createElement("h2",null,"Sign in to get started"),n.a.createElement("div",{className:"spotifyBtn"},n.a.createElement(_,{redirectUri:"http://kevinjiang.ca/react-spotify-auth",clientID:"1a70ba777fec4ffd9633c0c418bdcf39",scopes:[v.userReadPrivate,v.userReadEmail,"user-top-read"]})))))};l.a.render(n.a.createElement(T,null),document.getElementById("root"))},31:function(e,t,a){},48:function(e,t,a){e.exports=a.p+"static/media/examplePfp.f6c53af4.jpg"},54:function(e,t,a){e.exports=a(112)}},[[54,1,2]]]);
//# sourceMappingURL=main.928bbe57.chunk.js.map