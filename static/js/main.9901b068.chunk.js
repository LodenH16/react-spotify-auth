(this["webpackJsonpreact-spotify-auth-example"]=this["webpackJsonpreact-spotify-auth-example"]||[]).push([[0],{48:function(e,t,a){e.exports=a(96)},49:function(e,t,a){},62:function(e,t,a){},96:function(e,t,a){"use strict";a.r(t);a(49);var n=a(1),r=a.n(n),c=a(41),o=a.n(c),l=a(47),i=a(20),s=a(17),u=a.n(s),m="user-top-read",p="user-read-email",d="user-read-private";var f=window.location.hash.substring(1).split("&").reduce((function(e,t){if(t){var a=t.split("=");e[a[0]]=decodeURIComponent(a[1])}return e}),{}),h=function(e){var t,a;function n(t){var a;return(a=e.call(this,t)||this).getHash=function(){return window.parent.location.hash.substring(1).split("&").reduce((function(e,t){if(t){var a=t.split("=");e[a[0]]=decodeURIComponent(a[1])}return e}),{})},a.handleClick=function(e){e.preventDefault();var t="https://accounts.spotify.com/authorize?response_type=token&client_id="+a.props.clientID+"&scope="+a.props.scopes.join("%20")+"&redirect_uri="+a.props.redirectUri+"&show_dialog=true";window.location=t},a.state={isAuthenticatedWithSpotify:!1},a}a=e,(t=n).prototype=Object.create(a.prototype),t.prototype.constructor=t,t.__proto__=a;var c=n.prototype;return c.componentDidMount=function(){var e=f.access_token;e&&(document.cookie="spotifyAuthToken="+e+"; max-age=3600;",this.props.onAccessToken(e))},c.render=function(){var e=this;return r.a.createElement("div",{className:this.props.containerClassName},r.a.createElement("button",{className:this.props.btnClassName,onClick:function(t){return e.handleClick(t)}},this.props.title))},n}(n.Component);h.defaultProps={redirectUri:"http://localhost:3000/callback",clientID:"1a70ba777fec4ffd9633c0c418bdcf39",scopes:[d,p],onAccessToken:function(){return console.log("I have an access token")},containerClassName:"spotify-signin-container",btnClassName:"spotify-signin-btn",title:"Continue with Spotify"};a(62);var E=a(6);a(95);var k=e=>r.a.createElement(E.h,null,r.a.createElement(E.c,{style:{width:"22rem"}},r.a.createElement(E.e,{className:"img-fluid",src:e.track.album.images[0].url,waves:!0}),r.a.createElement(E.d,null,r.a.createElement(E.g,null,e.track.name),r.a.createElement(E.f,null,e.track.artists.map(e=>e.name).join(" ")," ",r.a.createElement("br",null),e.track.album.name),r.a.createElement(E.b,{href:e.track.external_urls.spotify},"Listen on Spotify"))));var b=()=>{const e=Object(n.useState)(),t=Object(l.a)(e,2),a=t[0],c=t[1];Object(n.useEffect)(()=>{c(u.a.get("spotifyAuthToken"))},[u.a.get("spotifyAuthToken")]);return r.a.createElement("div",{className:"app"},r.a.createElement(E.i,null,u.a.get("spotifyAuthToken")?r.a.createElement(r.a.Fragment,null,r.a.createElement(E.n,null,r.a.createElement("h1",null,"Hi! How's it going?")),r.a.createElement(i.b.Provider,{value:a},r.a.createElement(i.c,null,e=>e&&e.data?r.a.createElement(r.a.Fragment,null,r.a.createElement(E.h,{style:{maxWidth:"22rem"}},r.a.createElement(E.c,null,r.a.createElement(E.e,{className:"img-fluid",src:e.data.images[0].url,alt:"Your Spotify Profile Picture",waves:!0}),r.a.createElement(E.d,null,r.a.createElement(E.g,null,"Welcome, ",e.data.display_name),r.a.createElement(E.f,null,"Some quick example text to build on the card title and make up the bulk of the card's content."))))):r.a.createElement("p",null,"Loading...")),r.a.createElement(i.d,{type:"tracks"},(e,t,a)=>e&&e.data?e.data.items.map((e,t)=>r.a.createElement(r.a.Fragment,null,r.a.createElement(k,{track:e}))):null)),r.a.createElement("button",{className:"logout",onClick:()=>{u.a.remove("spotifyAuthToken"),window.location="/"}},"Logout")):r.a.createElement(h,{redirectUri:"http://localhost:3000/callback",clientID:"1a70ba777fec4ffd9633c0c418bdcf39",scopes:[d,p,m],className:"centered"})))};o.a.render(r.a.createElement(b,null),document.getElementById("root"))}},[[48,1,2]]]);
//# sourceMappingURL=main.9901b068.chunk.js.map