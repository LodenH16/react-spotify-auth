(this["webpackJsonpreact-spotify-auth-docs"]=this["webpackJsonpreact-spotify-auth-docs"]||[]).push([[0],{33:function(e,t,a){},95:function(e,t,a){},98:function(e,t,a){},99:function(e,t,a){"use strict";a.r(t);var s=a(4),o=(a(33),a(1)),c=a.n(o),i=a(25),r=a.n(i),n=a(48),l=a(21),d=a(7),p=(a(94),a(18)),u=a.n(p);var h=e=>Object(s.jsx)(d.h,{children:Object(s.jsxs)(d.c,{style:{width:"22rem"},children:[Object(s.jsx)(d.e,{className:"img-fluid",src:e.track.album.images[0].url,waves:!0}),Object(s.jsxs)(d.d,{children:[Object(s.jsx)(d.g,{children:e.track.name}),Object(s.jsxs)(d.f,{children:[e.track.artists.map((e=>e.name)).join(" ")," ",Object(s.jsx)("br",{}),e.track.album.name]}),Object(s.jsx)(d.b,{href:e.track.external_urls.spotify,children:"Listen on Spotify"})]})]})}),m=a.p+"static/media/examplePfp.e7162f89.jpg",j=(a(95),a(9)),y=a.n(j);const b={ugcImageUpload:"ugc-image-upload",userFollowRead:"user-follow-read",userFollowModify:"user-follow-modify",userReadRecentlyPlayed:"user-read-recently-played",userTopRead:"user-top-read",userReadPlaybackPosition:"user-read-playback-position",userLibraryRead:"user-library-read",userLibraryModify:"user-library-modify",userReadPlaybackState:"user-read-playback-state",userReadCurrentlyPlaying:"user-read-currently-playing",userModifyPlaybackState:"user-modify-playback-state",playlistReadCollaborative:"playlist-read-collaborative",playlistModifyPrivate:"playlist-modify-private",playlistModifyPublic:"playlist-modify-public",playlistReadPrivate:"playlist-read-private",streaming:"streaming",appRemoteControl:"app-remote-control",userReadEmail:"user-read-email",userReadPrivate:"user-read-private"},f=Object.keys(b).reduce(((e,t)=>e.concat(b[t],"%20")),"").slice(0,-3);var g="_SpotifyAuth__rsaSpotifyBtn__3xrlJ",k="_SpotifyAuth__rsaSpotifyLogo__1JCP_";const x=e=>c.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 496 512",className:e.className||k},c.a.createElement("path",{d:"M248 8C111.1 8 0 119.1 0 256s111.1 248 248 248 248-111.1 248-248S384.9 8 248 8zm100.7 364.9c-4.2 0-6.8-1.3-10.7-3.6-62.4-37.6-135-39.2-206.7-24.5-3.9 1-9 2.6-11.9 2.6-9.7 0-15.8-7.7-15.8-15.8 0-10.3 6.1-15.2 13.6-16.8 81.9-18.1 165.6-16.5 237 26.2 6.1 3.9 9.7 7.4 9.7 16.5s-7.1 15.4-15.2 15.4zm26.9-65.6c-5.2 0-8.7-2.3-12.3-4.2-62.5-37-155.7-51.9-238.6-29.4-4.8 1.3-7.4 2.6-11.9 2.6-10.7 0-19.4-8.7-19.4-19.4s5.2-17.8 15.5-20.7c27.8-7.8 56.2-13.6 97.8-13.6 64.9 0 127.6 16.1 177 45.5 8.1 4.8 11.3 11 11.3 19.7-.1 10.8-8.5 19.5-19.4 19.5zm31-76.2c-5.2 0-8.4-1.3-12.9-3.9-71.2-42.5-198.5-52.7-280.9-29.7-3.6 1-8.1 2.6-12.9 2.6-13.2 0-23.3-10.3-23.3-23.6 0-13.6 8.4-21.3 17.4-23.9 35.2-10.3 74.6-15.2 117.5-15.2 73 0 149.5 15.2 205.4 47.8 7.8 4.5 12.9 10.7 12.9 22.6 0 13.6-11 23.3-23.2 23.3z"}));x.propTypes={className:y.a.string};const O=()=>window?window.parent.location.hash.substring(1).split("&").reduce(((e,t)=>{if(t){var a=t.split("=");e[a[0]]=decodeURIComponent(a[1])}return e}),{}):"";class w extends o.Component{constructor(e){super(e),this.handleClick=e=>{e.preventDefault(),window.location=((e,t,a)=>"https://accounts.spotify.com/authorize?response_type=token"+"&client_id=".concat(e)+"&scope=".concat(t.join("%20"))+"&redirect_uri=".concat(a)+"&show_dialog=true")(this.props.clientID,this.props.scopes,this.props.redirectUri)},this.state={isAuthenticatedWithSpotify:!1}}componentDidMount(){const e=O().access_token;e&&(this.props.noCookie||(document.cookie="spotifyAuthToken=".concat(e,"; max-age=").concat(3600,";")),this.props.localStorage&&window.localStorage.setItem("spotifyAuthToken",e),this.props.onAccessToken(e))}render(){return c.a.createElement("button",{className:this.props.btnClassName||g,onClick:e=>this.handleClick(e)},!this.props.noLogo&&c.a.createElement(x,{className:this.props.logoClassName}),c.a.createElement("span",null,this.props.title))}}w.propTypes={redirectUri:y.a.string.isRequired,clientID:y.a.string.isRequired,scopes:y.a.arrayOf(y.a.string),onAccessToken:y.a.func,logoClassName:y.a.string,title:y.a.string,noLogo:y.a.bool,noCookie:y.a.bool,localStorage:y.a.bool},w.defaultProps={redirectUri:"http://localhost:3000",scopes:[b.userReadPrivate,b.userReadEmail],onAccessToken:e=>{},title:"Continue with Spotify",localStorage:!1,noLogo:!1,noCookie:!1};const v=e=>(Object(o.useEffect)((()=>{const t=O().access_token;t&&(e.noCookie||(document.cookie="spotifyAuthToken=".concat(t,"; max-age=").concat(3600,";")),e.localStorage&&window.localStorage.setItem("spotifyAuthToken",t),e.onAccessToken(t))}),[]),null);v.propTypes={noCookie:y.a.bool,localStorage:y.a.bool,onAccessToken:y.a.func},v.defaultProps={noCookie:!1,localStorage:!1,onAccessToken:e=>{}},b.all=f;a(98);var S=()=>{const e=Object(o.useState)(),t=Object(n.a)(e,2),a=t[0],c=t[1];Object(o.useEffect)((()=>{c(u.a.get("spotifyAuthToken")),console.log(b.all)}),[u.a.get("spotifyAuthToken")]);return Object(s.jsx)("div",{className:"app",children:Object(s.jsx)(d.i,{children:u.a.get("spotifyAuthToken")?Object(s.jsxs)(s.Fragment,{children:[Object(s.jsx)(d.n,{children:Object(s.jsx)("h1",{children:"Hi! How's it going?"})}),Object(s.jsxs)(l.b.Provider,{value:a,children:[Object(s.jsx)(l.c,{children:e=>e&&e.data?Object(s.jsx)(s.Fragment,{children:Object(s.jsx)(d.h,{style:{maxWidth:"22rem",padding:"0 0 1rem 1rem"},children:Object(s.jsxs)(d.c,{children:[Object(s.jsx)(d.e,{className:"img-fluid",src:e.data.images[0]?e.data.images[0].url:m,alt:"Your Spotify Profile Picture",waves:!0}),Object(s.jsxs)(d.d,{style:{padding:"1rem"},children:[Object(s.jsxs)(d.g,{children:["Welcome, ",e.data.display_name]}),Object(s.jsx)(d.f,{children:"Here's some of your top tracks, as listed by Spotify."})]})]})})}):Object(s.jsx)("p",{children:"Loading..."})}),Object(s.jsx)("div",{style:{width:"100%"},children:Object(s.jsx)(d.n,{className:"masonry-with-columns",children:Object(s.jsx)(l.d,{type:"tracks",children:(e,t,a)=>e&&e.data?e.data.items.map(((e,t)=>Object(s.jsx)(s.Fragment,{children:Object(s.jsx)(h,{track:e})}))):null})})})]}),Object(s.jsx)(d.b,{onClick:()=>{u.a.remove("spotifyAuthToken",{path:"react-spotify-auth"}),window.location="/react-spotify-auth"},children:"Logout"})]}):Object(s.jsxs)("div",{className:"login-page",children:[Object(s.jsx)("h1",{children:"React Spotify Auth Demo"}),Object(s.jsx)("h2",{children:"Sign in to get started"}),Object(s.jsx)("div",{className:"spotifyBtn",children:Object(s.jsx)(w,{redirectUri:"http://kevinjiang.ca/react-spotify-auth",clientID:"1a70ba777fec4ffd9633c0c418bdcf39",scopes:[b.userReadPrivate,b.userReadEmail,"user-top-read"]})})]})})})};r.a.render(Object(s.jsx)(S,{}),document.getElementById("root"))}},[[99,1,2]]]);
//# sourceMappingURL=main.c7c5eb00.chunk.js.map